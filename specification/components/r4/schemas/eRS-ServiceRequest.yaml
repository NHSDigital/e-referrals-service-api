title: eRS-ServiceRequest
description: A record of a request for service such as diagnostic investigations, treatments, or operations to be performed.
type: object
required:
  - id
  - meta
  - resourceType
  - extension
  - contained
  - identifier
  - status
  - intent
  - category
  - priority
  - subject
  - authoredOn
  - requester
properties:
  id:
    type: string
    example: 'r.832db7fa-ebdd-44b6-ab3b-8329c2d43149'
  meta:
    type: object
    required:
      - profile
      - versionId
    properties:
      profile:
        type: array
        items:
          type: string
          enum:
            - 'https://fhir.nhs.uk/StructureDefinition/NHSDigital-ServiceRequest'
          example: 'https://fhir.nhs.uk/StructureDefinition/NHSDigital-ServiceRequest'
      versionId:
        type: string
        example: '3834a43e-8696-4e77-aea4-b4fa0b6ef29e'
  resourceType:
    type: string
    enum:
      - ServiceRequest
    example: 'ServiceRequest'
  extension:
    type: array
    minItems: 1
    maxItems: 1
    items:
      $ref: 'extensions/Extension-eRS-ServiceRequest-Priority.yaml'  
  contained:
    type: array
    items:
      type: object
      required:
        - resourceType
        - id
        - meta
        - practitioner
        - organization
      properties:
        resourceType:
          type: string
          enum:
            - PractitionerRole
          example: PractitionerRole
        id:
          type: string
          example: requester
        meta:
          type: object
          required:
            - profile
          properties:
            profile:
              type: string
              enum:
                - https://fhir.nhs.uk/StructureDefinition/NHSDigital-PractitionerRole-Minimal
              example: https://fhir.nhs.uk/StructureDefinition/NHSDigital-PractitionerRole-Minimal
        practitioner:
          type: object
          required:
            - identifier
          properties:
            identifier:
              type: object
              required:
                - system
                - value
              properties:
                system:
                  type: string
                  enum:
                    - https://fhir.nhs.uk/Id/sds-user-id
                  example: https://fhir.nhs.uk/Id/sds-user-id
                value:
                  type: string
                  example: '000000000101'
        organization:
          type: object
          required:
            - identifier
          properties:
            identifier:
              type: object
              required:
                - system
                - value
              properties:
                system:
                  type: string
                  enum:
                    - https://fhir.nhs.uk/Id/ods-organization-code
                  example: https://fhir.nhs.uk/Id/ods-organization-code
                value:
                  type: string
                  example: 'R69'
  identifier:
    type: array
    items:
      type: object
      required:
        - system
        - value
      properties:
        system:
          type: string
          enum:
            - 'https://fhir.nhs.uk/Id/UBRN'
          example: 'https://fhir.nhs.uk/Id/UBRN'
        value:
          type: string
          example: '000000070000'
  status:
    type: string
    enum:
      - active
    example: 'active'
  intent:
    type: string
    enum:
      - order
    example: 'order'
  category:
    type: array
    items:
      type: object
      required:
        - coding
      properties:
        coding:
          type: array
          items:
            type: object
            required:
              - system
              - code
              - display
            properties:
              system:
                type: string
                enum:
                  - 'http://snomed.info/sct'
              code:
                type: string
                example: '820641000000100'
              display:
                type: string
                example: 'Choose and book advice and guidance request'
  priority:
    type: string
    enum:
      - routine
      - urgent
      - asap
      - stat
    example: 'asap'
  subject:
    type: object
    required:
      - identifier
    properties:
      identifier:
        type: object
        required:
          - system
          - value
        properties:
          system:
            type: string
            enum:
              - 'https://fhir.nhs.uk/Id/nhs-number'
            example: 'https://fhir.nhs.uk/Id/nhs-number'
          value:
            type: string
            example: '9912003888'
  authoredOn:
    type: string
    format: date-time
    example: '2022-01-11T10:00:00.000Z'
  requester:
    type: object
    required:
      - reference
    properties:
      reference:
        description: This will be a reference to the contained PractitionerRole id.
        type: string
        example: '#requester'
