title: eRS-HealthcareService
description: 'A service with eRS'
type: object
required:
  - id
  - meta
  - resourceType
  - extension
  - location
  - name
  - type
  - characteristic
properties:
  id: 
    type: integer
    example: 1
  meta:
    type: object
    required:
      - profile
    properties:
      profile:
        type: array
        items:
          type: string
          enum:
            - 'https://fhir.nhs.uk/R4/StructureDefinition/eRS-HealthcareService-1'
          example: 'https://fhir.nhs.uk/R4/StructureDefinition/eRS-HealthcareService-1'
  language:
    type: string
    example: 'en'
  resourceType:
    type: string
    enum:
      -  HealthcareService
    example: HealthcareService
  extension:
    type: array
    nullable: false
    description: |
      | Field                                      | Cardinality | Notes                                                                                   |
      | ------------------------------------------ | ----------- | --------------------------------------------------------------------------------------- |
      | Extension-eRS-HoursOfOperation             | 0..1        | Details the hours the current HealthcareService is operational                          |
      | Extension-eRS-ServiceInstructions          | 0..1        | Outlines any specific instructions that should be followed around the HealthcareService |
      | Extension-HealthcareService-Contact        | 0..*        | Details any contact information for the HealthcareService                               |
    items:
      anyOf:
        - $ref: 'extensions/Extension-eRS-HoursOfOperation.yaml'
        - $ref: 'extensions/Extension-eRS-ServiceInstructions.yaml'
        - $ref: 'extensions/Extension-HealthcareService-Contact.yaml'
  location:
    type: object
    properties:
      identifier:
        description: 'Reference detailing the location a service is based within.'
        type: object
        properties:
          system:
            type: string
            enum:
              - 'https://fhir.nhs.uk/Id/ods-site-code'
            example: 'https://fhir.nhs.uk/Id/ods-site-code'
          value:
            type: string
            example: 'R69'
  name:
    type: string
    example: 'Direct SVC 1'
    description: Name of the current HealthcareService within eRS
  type:
    type: object
    required:
      - coding
    properties:
      coding:
        type: object
        required:
          - system
          - code
          - display
        properties:
          system:
            type: string
            enum:
              - https://fhir.nhs.uk/CodeSystem/eRS-AppointmentType-1
            example: https://fhir.nhs.uk/CodeSystem/eRS-AppointmentType-1
          code:
            type: string
            enum:
              - DAY_CASE
              - FIRST_OUTPATIENT
              - ASSESSMENT_SERVICE
              - GPSI
              - AHP_CLINIC
              - DIAGNOSTIC
              - NURSE_CLINIC
              - OPHTHALMOLOGIST
              - TELEPHONE_ASSESSMENT
            example: DAY_CASE
          display:
            type: string
            enum:
              - Day Case
              - First Outpatient
              - Assessment Service
              - GPSI
              - AHP Clinic
              - Diagnostic
              - Nurse Clinic
              - Ophthalmologist
              - Telephone Assessment
            example: Day Case
  characteristic:
    type: object
    required:
      - coding
    properties:
      coding:
        type: object
        required:
          - system
          - code
          - display
        properties:
          system:
            type: string
            enum:
              - https://fhir.nhs.uk/CodeSystem/eRS-RequestFlowType-1
            example: https://fhir.nhs.uk/CodeSystem/eRS-RequestFlowType-1
          code:
            type: string
            # Might need to think about these codings given Appointment/Advice and Guidance/Triage requests aren't mentioned in the xAPI
            enum:
              - APPOINTMENT_REQUEST
              - TRIAGE_REQUEST
              - ADVICE_AND_GUIDANCE_REQUEST
            example: APPOINTMENT_REQUEST
          display:
            enum:
              - Appointment Request
              - Triage Request
              - Advice and Guidance Request
            example: Appointment Request
