description: Parameters resource containg the upload URI (S3) and the file reference (eRS).
headers:
  x-correlation-id:
    $ref: '../../headers/response/CorrelationID.yaml'
  x-request-id:
    $ref: '../../headers/response/RequestID.yaml'
  Content-Type:
    $ref: '../../headers/response/ContentTypeFhirJson.yaml'
content:
  application/fhir+json:
    schema:
      type: object
      required:
        - resourceType
        - meta
        - parameters
      properties:
        resourceType:
          type: string
          enum:
            - Parameters
          example: 'Parameters'
        meta:
          type: object
          required: 
            - profile
          properties:
            profile:
              type: array
              items:
                type: string
                enum:
                  - 'https://fhir.nhs.uk/STU3/StructureDefinition/eRS-<GenerateURI>-Response-Parameters-1'
                example: 'https://fhir.nhs.uk/STU3/StructureDefinition/eRS-<GenerateURI>-Response-Parameters-1'
        parameters:
          type: array
          description: |
            | Field        | Cardinality | Notes                |
            | ------------ | ----------- | -------------------- |
            | `uploadUri`  | `1..1`      |                      |
            | `reference`  | `1..1`      |                      | 
          items:
            oneOf:
              - title: uploadUri
                type: object
                required:
                  - name
                  - valueUri
                properties:
                  name:
                    type: string
                    enum:
                      - 'uploadUri'
                    example: uploadUri
                  valueUri:
                    type: string
                    example: "<presignedUri>"
              - title: reference
                type: object
                required:
                  - name
                  - valueUri
                properties:
                  name:
                    type: string
                    enum:
                      - 'reference'
                    example: reference
                  valueUri:
                    type: string
                    example: "/Binary/ce2fbda9-7c18-46ab-ae04-5b08df61e0d4"
          minItems: 2
          maxItems: 2
          uniqueItems: true
    examples:
      minimal-example:
        summary: S3 upload URI and eRS reference for a UUID identifying a referral.
        value:
          $ref: '../../../examples/requestUploadUri/responses/ResponseExample.json'
